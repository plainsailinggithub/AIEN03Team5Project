<!DOCTYPE html>
<html lang="en">

<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
        <!-- 引用bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <!-- 引用Font awesome CSS -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    
    <!-- <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"> -->

    <!------ Include the above in your HEAD tag ---------->
    
    <!-- <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"> -->
    
    <!------ Include the above in your HEAD tag ---------->




    <style>
        .h7 {
            font-size: 0.8rem;
        }        
         body {
            background-color: #F5F5F5;
        }

        /* 白色div很長的時候,header還是留在最上方 */
        .header_bar{
            width:100%;
            position:fixed;
            left:0;
            top:0;
            z-index:10;
            
        }
        /* display: none; */

        /* .gedf-wrapper {
            margin-top: 0.97rem;
        }

        @media (min-width: 992px) {
            .gedf-main {
                padding-left: 4rem;
                padding-right: 4rem;
            }
            .gedf-card {
                margin-bottom: 2.77rem;
            }
        } 

        
        .dropdown-toggle::after {
            content: none;
        }   */

   /* *Reset Bootstrap */


    .content-left {
      padding-left: 6%;
    }

    .content-right {
      padding-right: 6%;
    }
    .divcontent {
       margin-top: 7%;
       /* padding-top: 7% */
    }



    .header-padding {
      padding-left: 6%;
      padding-right: 6%;
    }

/*
    .card-product .img-wrap {
        border-radius: 3px 3px 0 0;
        overflow: hidden;
        position: relative;
        height: 220px;
        text-align: center;
    }
    .card-product .img-wrap img {
        max-height: 100%;
        max-width: 100%;
        object-fit: cover;
    }
    .card-product .info-wrap {
        overflow: hidden;
        padding: 15px;
        padding-bottom: 0px;
        border-top: 1px solid #eee;
    }
    .card-product .bottom-wrap {
        padding: 15px;
        padding-top: 0px;
        width: 150px;
        margin: 0 auto;
        /* border-top: 1px solid #eee; 
    } 
*/


    .label-rating { margin-right:10px;
        color: #333;
        display: inline-block;
        vertical-align: middle;
    }

    .card-product .price-old {
        color: #999;
    }

    footer{
      background-color: #424558;
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 35px;
      text-align: center;
      color: #CCC;
      z-index:10;
    }

    footer p {
      padding: 10.5px;
      margin: 0px;
      line-height: 100%;
    }
    .body1{
      font-family:Microsoft JhengHei;
    }

/* 人物card css */

@import url('https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css');
#team {
    background: #eee !important;
}

.btn-primary:hover,
.btn-primary:focus {
    background-color: #D9EDF7;
    border-color: #D9EDF7;
    box-shadow: none;
    outline: none;
}
/* #108d6f */

.btn-primary {
    color: #fff;
    background-color: #3D86AF;
    border-color: #3D86AF;
}
/* #007b5e */
section {
    padding: 0!important;  
    padding-bottom: 0!important; 
    font-family:Microsoft JhengHei;
}

/* section .section-title {
    text-align: center;
    color: #007b5e;
    margin-bottom: 50px;
    text-transform: uppercase;
} */

#team .card {
    border: none;
    background: #ffffff;
}

/* .image-flip:hover .backside,
.image-flip.hover .backside {
    -webkit-transform: rotateY(0deg);
    -moz-transform: rotateY(0deg);
    -o-transform: rotateY(0deg);
    -ms-transform: rotateY(0deg);
    transform: rotateY(0deg);
    border-radius: .25rem;
}

.image-flip:hover .frontside,
.image-flip.hover .frontside {
    -webkit-transform: rotateY(180deg);
    -moz-transform: rotateY(180deg);
    -o-transform: rotateY(180deg);
    transform: rotateY(180deg);
}

.mainflip {
    -webkit-transition: 1s;
    -webkit-transform-style: preserve-3d;
    -ms-transition: 1s;
    -moz-transition: 1s;
    -moz-transform: perspective(1000px);
    -moz-transform-style: preserve-3d;
    -ms-transform-style: preserve-3d;
    transition: 1s;
    transform-style: preserve-3d;
    position: relative;
} */

.frontside {
    position: relative;
    -webkit-transform: rotateY(0deg);
    -ms-transform: rotateY(0deg);
    z-index: 2;
    margin-bottom: 0;
}

/* .backside {
    position: absolute;
    top: 0;
    left: 0;
    background: white;
    -webkit-transform: rotateY(-180deg);
    -moz-transform: rotateY(-180deg);
    -o-transform: rotateY(-180deg);
    -ms-transform: rotateY(-180deg);
    transform: rotateY(-180deg);
    -webkit-box-shadow: 5px 7px 9px -4px rgb(158, 158, 158);
    -moz-box-shadow: 5px 7px 9px -4px rgb(158, 158, 158);
    box-shadow: 5px 7px 9px -4px rgb(158, 158, 158);
} */

/* .frontside,
.backside {
    -webkit-backface-visibility: hidden;
    -moz-backface-visibility: hidden;
    -ms-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-transition: 1s;
    -webkit-transform-style: preserve-3d;
    -moz-transition: 1s;
    -moz-transform-style: preserve-3d;
    -o-transition: 1s;
    -o-transform-style: preserve-3d;
    -ms-transition: 1s;
    -ms-transform-style: preserve-3d;
    transition: 1s;
    transform-style: preserve-3d;
} */

.frontside .card,
.backside .card {
    min-height: 312px;
}

.backside .card a {
    font-size: 18px;
    color: black !important;
    font-family:Microsoft JhengHei;
}
/* #007b5e */

.frontside .card .card-title,
.backside .card .card-title {
    color: black !important;
    font-family:Microsoft JhengHei;
}

.frontside .card .card-body img {
    width: 120px;
    height: 120px;
    border-radius: 50%;
}

.cardgap {
    padding: 0.1%!important;
}

.border1 {
    border: 1px solid #C0C0C0!important;
    padding-bottom: 0!important;
}

.border2 {
    border: 0.2px solid #C0C0C0!important;
}
.search {
    background-color: white!important;
}
.buttongap {
    margin-right: 1%;
}
.inves{
    /* font-color:#E100E1; */
    text-indent:-9999px;
}
.middleDivMargin {
    margin-bottom: 10%;
}

/* member's style */

.profile-card-3 {
    font-family: 'Open Sans', Arial, sans-serif;
    position: relative;
    float: left;
    overflow: hidden;
    width: 100%;
    text-align: center;
    height:500px;
    border:none;
  }
  .profile-card-3 .background-block {
      float: left;
      width: 100%;
      height: 250px;
      overflow: hidden;
  }
  .profile-card-3 .background-block .background {
    width:100%;
    vertical-align: top;
    opacity: 1;
    -webkit-filter: blur(0px);
    filter: blur(0.2px);
     -webkit-transform: scale(2);
    transform: scale(1.5);
  }
  .profile-card-3 .card-content {
    width: 100%;
    padding: 15px 25px;
    color:#232323;
    float:left;
    background:#efefef;
    height:50%;
    border-radius:0 0 5px 5px;
    position: relative;
    z-index: 9999;
  }
  .profile-card-3 .card-content::before {
      content: '';
      background: #efefef;
      width: 120%;
      height: 100%;
      left: 11px;
      bottom: 51px;
      position: absolute;
      z-index: -1;
      transform: rotate(-13deg);
  }
  .profile-card-3 .profile {
    border-radius: 50%;
    position: absolute;
    bottom: 50%;
    left: 50%;
    max-width: 100px;
    opacity: 1;
    box-shadow: 3px 3px 20px rgba(0, 0, 0, 0.5);
    border: 2px solid rgba(255, 255, 255, 1);
    -webkit-transform: translate(-50%, 0%);
    transform: translate(-50%, 0%);
    z-index:99999;
  }
  .profile-card-3 h2 {
    margin: 0 0 5px;
    font-weight: 600;
    font-size:25px;
  }
  .profile-card-3 h2 small {
    display: block;
    font-size: 18px;
    margin-top:10px;
  }
  .profile-card-3 i {
    display: inline-block;
      font-size: 16px;
      color: #232323;
      text-align: center;
      border: 1px solid #232323;
      width: 30px;
      height: 30px;
      line-height: 30px;
      border-radius: 50%;
      margin:0 5px;
  }
  .profile-card-3 .icon-block{
      float:left;
      width:100%;
      margin-top:15px;
  }
  .profile-card-3 .icon-block a{
      text-decoration:none;
  }
  .profile-card-3 i:hover {
    background-color:#232323;
    color:#fff;
    text-decoration:none;
  }


    </style>
{% block style %}
{% endblock %}
</head>







<!--  !!!!樣板最新的版本, 如果內容需要更改, 請先找隊員溝通!!!! -->
<!-- !!!!可以把自己的app樣式放到 block left 或 block middle 裡面!!!! -->
<!-- !!!!可以把自己的scripts放到 block scripts 裡面!!!! -->
<!-- !!!!我把 style block 刪掉了, 需要的人自己加!!!! --> 


<body class="body1">
<div class="container-fluid header_bar">
        

  <nav class="navbar navbar-expand-lg navbar-dark header-padding" style="background-color:#283E4A;height: 52px">
            
    <a class="navbar-brand" href="#">LinkedIn</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
              
      <div class="collapse navbar-collapse" id="navbarColor02">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="{% url 'member:member' %}"><i class="fas fa-home"></i>首頁 <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class    ="nav-link" href="#"><i class="fas fa-users"></i>人脈</a>
            
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/message/"><i class="far fa-envelope"></i>訊息</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'article:index' %}"><i class="far fa-newspaper"></i>文章</a>
          </li>
            </ul>

          <ul class="navbar-nav mr-4">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="fas fa-wrench"></i>
                我的設定
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                {% for member in members %}
                {% if member.2 == request.COOKIES.name %}
                <a class="dropdown-item" href="{% url 'member:setting' member.0 %}">個人資料</a>
                <a class="dropdown-item" href="#">Another action</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="{% url 'member:logout' %}">登出</a>
                {% endif %}
                {% endfor %} 
              </div>

            </li>
          </ul>
          <form class="form-inline my-2 my-lg-0">
          <input class="form-control mr-sm-2" type="text" id="txtName" placeholder="Search" name='inputtext'>
          <button class="btn btn-secondary my-2 my-sm-0" type="button" id="buttonClick">搜尋</button>
          </form>
                  
        </div>   
        <!-- div class="collapse navbar-collapse" id="navbarColor02" 的結尾 -->

  </nav>
</div>
<!-- div class=".container-fluid header_bar" 的結尾-->


<!-- header和footer之間的中間白色區區域最外圍div -->
<div class="container-fluid  gedf-wrapper divcontent">
    
    <!-- 定義左中右3:6:3的div區塊 -->
  <div class="row" >

        <!-- 左邊3/12的div區塊 -->
      <div class="col-md-3 content-left" id="leftDiv">
            {% block left %}
            {% endblock %}

          <!-- <div class="card">
              <div class="card-body">
                  <div class="h5">@LeeCross</div>
                  <div class="h7 text-muted">Fullname : Miracles Lee Cross</div>
                  <div class="h7">Developer of web applications, JavaScript, PHP, Java, Python, Ruby, Java, Node.js,
                      etc.
                  </div>
              </div>

              <ul class="list-group list-group-flush">
                  <li class="list-group-item">
                      <div class="h6 text-muted">Followers</div>
                      <div class="h5">5.2342</div>
                  </li>
                  <li class="list-group-item">
                      <div class="h6 text-muted">Following</div>
                      <div class="h5">6758</div>
                  </li>
                  <li class="list-group-item">Vestibulum at eros</li>
              </ul>
          </div> -->


      </div>
      <!-- div class="col-md-3 content-left"的結尾 -->



       <!-- 中間6/12的div區塊 -->
       <div class="col-md-6 gedf-main" id="middleDiv">
            {% block middle %}
            {% endblock %}







       </div>
       <!-- 中間6/12的div區塊 div class="col-md-6 gedf-main" 的結尾-->

  


        

        <!-- 右邊block 比例3/12 放廣告區 不要動!-->
      <div class="col-md-3 content-right">
          <div class="card gedf-card">
              <div class="card-body">
                  <h5 class="card-title">Card title</h5>
                  <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                  <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                      card's content.</p>
                  <a href="#" class="card-link">Card link</a>
                  <a href="#" class="card-link">Another link</a>
              </div>
          </div>
      </div>
      <!-- 右邊block 比例3/12 的放廣告區 的結尾-->

<img src="" alt="" height="" width="">

  </div>
  <!-- class="row" 的結尾-->

</div>
<!-- container-fluid gedf-wrapper divcontent 的結尾-->
<!-- header和footer之間的中間白色區區域最外圍div -->



                    






  

        <!-- footer div區塊 -->

  <footer  style="background-color:#283E4A">
    <p>© 2018<a style="color:#0a93a6; text-decoration:none;" href="#"> LinkedIn </a>, All rights reserved 2018.</p>
  </footer>

                

    <!-- 引用的東西太雜亂，我的console一直報錯，程式卡住，我重新引用一次     ||Comment by Tree||-->

    <!-- 使用jQuery，引用google cdn服務 -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- 引用bootstrap -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

<!-- <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script> -->
<!-- <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->

<!-- <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script> -->
<!-- <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->

<script>
        $(document).ready(function(){
            // var textSearch = ""
        
            $(document).on('click','#buttonClick',function(){ 
        
                textSearch = $('#txtName').val()
                // console.log(textSearch)
        
                    
                function loadTodo(){
                    // console.log(textSearch)
                    theUrl = '/api/members/?search=' + textSearch
                    console.log(theUrl)
                    $.getJSON('/api/members/?search=' + textSearch, function(datas){
                      
                    
                // $.getJSON('/api/member/',function(datas){
                    // console.log(result)
                    // var tb =  $('#todolist>tbody');
                    var tbLeft =  $('#leftDiv');
                    var tbMiddle =  $('#middleDiv');
                    var tbMiddleInside = ""
                    var docLeftFrag = ""
                    var docMiddleFrag = $(document.createDocumentFragment())
                    // console.log(datas)
                    // console.log(datas[0].name)
        
                    $.each(datas,function(idx, members){
        
                        var cell1 = $('<p></p>').html('<img  class="img-fluid" src="/media/'+members.img+'" alt="card image">')
                        
                        var cell2 = $('<h4></h4>').text(members.mem_name).attr('class','card-title')
                        var cell3 = $('<p></p>').text(members.company).attr('class','card-text')
                        var cell4 = $('<p></p>').text(members.position).attr('class','card-text')
                        var cell5 = $('<button></button>').html('<i class="fa fa-plus"></i>').attr({'href':'#', 'class':'btn btn-primary btn-sm buttongap'})
                        var cell6 = $('<button></button>').html('<i class="fas fa-file-alt"></i>').attr({'class':'btn btn-primary btn-sm buttongap readarticles', 'id':members.emailid})

     

                                                    //<tr><td><td><td>
                        var div1 = $('<div></div>').append([cell1,cell2,cell3,cell4,cell5,cell6]).attr('class', 'card-body text-center')

                        var div2 = $('<div></div>').append(div1).attr('class', 'card')

                        var div3 = $('<div></div>').append(div2).attr('class','frontside')

                        var div4 = $('<div></div>').append(div3).attr({'class':'cardgap col-xs-12 col-sm-6 col-md-4 border2'})
                            //<tbody><tr>
                        docMiddleFrag.append(div4)
                    // })
        
                    //}//for
                    })//for each
                    var div5 = $('<div></div>').append(docMiddleFrag).attr({'class':'row', 'id':'card1', 'action':''})


        
                    var div6 = $('<div></div>').append(div5).attr('class','container')
                    
                    var div7 = $('<section></section>').append(div6).attr({'id':'team', 'class':'pb-5 border1'})
                    

                    

                    tbMiddle.html(div7)
                    tbLeft.html(docLeftFrag)
                    // })
                })//get json 

                }// loadTodo    
        
        
                
            loadTodo()//important
             
            // console.log(members[0].emailid)



            })//document.click.#buttonClick

            $(document).on('click','.readarticles',function(){ 
                textSearch = this.id
                // console.log(textSearch)
                // console.log(this.id)
                // console.log(textSearch)
                    
                function loadArticles(){
                    // console.log(textSearch)
                    theUrl = '/api/members/?search=' + textSearch
                    console.log(theUrl)
                    $.getJSON('/api/members/?search=' + textSearch, function(datasMembers){
                    
                        var tbLeft =  $('#leftDiv');
                        var tbMiddle =  $('#middleDiv');
                        var tbMiddleInside = ""
                        var docLeftFrag = $(document.createDocumentFragment())
                        var docMiddleFrag = $(document.createDocumentFragment())
                        console.log(datasMembers[0].id)
                    // console.log(datas[0].name)
                        $.getJSON('/api/articles/?search='+datasMembers[0].emailid, function(datasArticles){
                            console.log(datasArticles)
                            $.each(datasArticles,function(idx, members){
                                console.log(members.title)
                                var cell1 = $('<div></div>').html('<img class="rounded-circle" width="45" src="/media/'+datasMembers[0].img+'">').attr('class','mr-2')
                                var cell2 = $('<div></div>').html('<div class="h5 m-0">'+datasMembers[0].mem_name+'</div><div class="h7 text-muted">'+members.emailid+'</div>').attr('class','ml-2')
                                
                                var div1 = $('<div></div>').append([cell1,cell2]).attr('class', 'd-flex justify-content-between align-items-center')
                                
                                var div2 = $('<div></div>').append(div1).attr('class', 'd-flex justify-content-between align-items-center')
                                
                                var divLevel1 = $('<div></div>').append(div2).attr('class', 'card-header')

                                // var cell3 = $('<div></div>').html('<i class="fa fa-clock-o"></i>'+members.create_time+'').attr('class','text-muted h7 mb-2')

                                var cell4 = $('<a></a>').html('<h5 class="card-title">'+members.title+'</h5>').attr('class','card-link')

                                var cell5 = $('<p></p>').html(''+members.content+'').attr('class','card-text')

                                var divLevel2 = $('<div></div>').append([cell4,cell5]).attr('class', 'card-body')

                                var cell6 = $('<a></a>').html('<i class="fa fa-gittip"></i> 讚').attr({'href':'', 'class':'card-link'})

                                var cell7 = $('<a></a>').html('<i class="fa fa-comment"></i> 留言').attr({'href':'', 'class':'card-link'})

                                var cell8 = $('<a></a>').html('<i class="fa fa-mail-forward"></i> 分享').attr({'href':'', 'class':'card-link'})

                                var divLevel3 = $('<div></div>').append([cell6,cell7,cell8]).attr('class', 'card-footer')

                                var div3 = $('<div></div>').append([divLevel1,divLevel2,divLevel3]).attr({'class':'card-link'})

                                var div4 = $('<div></div>').attr({'id':members.id, 'class':'card gedf-card mb-2 articleId'})

                                div4.append(div3)

                                docMiddleFrag.append(div4)

                            })//each
                            
                            var div5 = $('<div></div>').append(docMiddleFrag).attr({'id': 'paragraph','class':'middleDivMargin'})
                            
                            tbMiddle.html(div5)

                        })//getJson article
                        
                        var cellLeft1 = $('<small></small>').html('任職於:'+datasMembers[0].company)

                        var cellLeft2 = $('<small></small>').html('職位:'+datasMembers[0].position)

                        var cellLeft3 = $('<small></small>').html('技能:'+datasMembers[0].skill)

                        var cellLeft4 = $('<small></small>').html('語言能力:'+datasMembers[0].language)

                        var divLeft1 = $('<h2></h2>').text(datasMembers[0].mem_name)

                        divLeft1.append([cellLeft1, cellLeft2, cellLeft3, cellLeft4])

                        var divLeft5 = $('<div></div>').append(divLeft1).attr('class', 'card-content')

                        


                        var divLeft2 = $('<div></div>').html('<img src="http://3.bp.blogspot.com/-Z97JrD_r7lA/Uho8gsuj-PI/AAAAAAAAAh4/Ns2gXdDfe50/s1600/_MG_0613B.jpg" alt="profile-sample1" class="background"/>').attr('class','background-block')

                        var divLeft3 = $('<div></div>').html('<img src="/media/'+datasMembers[0].img+'" alt="profile-image" class="profile"/>').attr('class','profile-thumb-block')


                                
                        var divLeft4 = $('<div></div>').append([divLeft2,divLeft3,divLeft5]).attr({'class':'card profile-card-3', 'style':'z-index: 2'})

                        docLeftFrag.append(divLeft4)

                        tbLeft.append(docLeftFrag)
                                
                    
                    })//getJson members

                }//function loadArticles 
                loadArticles()
            })//document.click.#readarticles    

            // console.log(members.emailid)
            
        })//document.ready
        
        </script>
{% block scripts %}
{% endblock %}



</body>
</html>